"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[642],{4367:function(e,t,a){function n(e){var t=e.toFixed(2).toString().split("."),a=t[0].split("").reverse().map((function(e,t){return(t+1)%3===0?" ".concat(e):e})).reverse().join("");return"".concat(a,".").concat(t[1])}a.d(t,{Z:function(){return n}})},8076:function(e,t,a){a.d(t,{H:function(){return r},I:function(){return n}});var n=function(e,t){return t[1]-e[1]},r=function(e,t){return new Date(t.date)-new Date(e.date)}},6642:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var n=a(885),r="IncomesInMonthly_balance_container__3vLMU",o="IncomesInMonthly_outcomes__91Tw6",c="IncomesInMonthly_line__vVHoY",i="IncomesInMonthly_incomes__Jlap0",l="IncomesInMonthly_title__O7omz",s="IncomesInMonthly_outcomes_div__sKuZz",d="IncomesInMonthly_incomes_div__ybNcm",g=a(9434),p=a(2791),m=a(8374),_=a(4367),u=a(3329);function h(){var e=(0,p.useState)(""),t=(0,n.Z)(e,2),a=t[0],h=t[1],y=(0,p.useState)(""),f=(0,n.Z)(y,2),b=f[0],v=f[1],x=(0,g.v9)(m.LA);return(0,p.useEffect)((function(){if(Object.keys(x).length>0){var e=(0,_.Z)(x.incomes.incomeTotal),t=(0,_.Z)(x.expenses.expenseTotal);h(e),v(t)}}),[x]),(0,u.jsxs)("div",{className:r,children:[(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)("p",{className:l,children:"Expenses:"}),(0,u.jsx)("p",{className:o,children:"- ".concat(b," \u0433\u0440\u043d.")})]}),(0,u.jsx)("div",{className:c}),(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("p",{className:l,children:"Income:"}),(0,u.jsx)("p",{className:i,children:"+ ".concat(a," \u0433\u0440\u043d.")})]})]})}var y="ReportView_balance_line__ftGMh",f="ReportView_module__QJG3C",b="ReportView_fon__BeAO2",v="ReportView_img__D1N7S",x=a(1413),j=a(9295),N=[{backendName:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b",category:"Products",imgPath:"products-icon",total:0},{backendName:"\u0410\u043b\u043a\u043e\u0433\u043e\u043b\u044c",category:"Alcohol",imgPath:"alcohol-icon",total:0},{backendName:"\u0420\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f",category:"Entertainment",imgPath:"entertainment-icon",total:0},{backendName:"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435",category:"Health",imgPath:"health-icon",total:0},{backendName:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442",category:"Transport",imgPath:"transport-icon",total:0},{backendName:"\u0412\u0441\u0451 \u0434\u043b\u044f \u0434\u043e\u043c\u0430",category:"Housing",imgPath:"housing-icon",total:0},{backendName:"\u0422\u0435\u0445\u043d\u0438\u043a\u0430",category:"Technique",imgPath:"technique-icon",total:0},{backendName:"\u041a\u043e\u043c\u043c\u0443\u043d\u0430\u043b\u043a\u0430 \u0438 \u0441\u0432\u044f\u0437\u044c",category:"Communal,\n communication",imgPath:"communal-icon",total:0},{backendName:"\u0421\u043f\u043e\u0440\u0442 \u0438 \u0445\u043e\u0431\u0431\u0438",category:"Sports,\n hobbies",imgPath:"sports-icon",total:0},{backendName:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435",category:"Education",imgPath:"education-icon",total:0},{backendName:"\u041f\u0440\u043e\u0447\u0435\u0435",category:"Other",imgPath:"other-icon",total:0}],k=[{backendName:"\u0417/\u041f",category:"Salary",imgPath:"salary-icon",total:0},{backendName:"\u0414\u043e\u043f. \u0434\u043e\u0445\u043e\u0434",category:"Additional income",imgPath:"add-income-icon",total:0}],R={expenses:"expenses",incomes:"incomes"},F=a(7609),I={reportSection:"FinancialReport_reportSection__v+P-d",controls:"FinancialReport_controls__q4Gd5",arrowIcon:"FinancialReport_arrowIcon__JSwR9",reportTypeTitle:"FinancialReport_reportTypeTitle__yanZ0",typeReportControlBtn:"FinancialReport_typeReportControlBtn__MK+XQ",categoryList:"FinancialReport_categoryList__x9dE5",categoryItem:"FinancialReport_categoryItem__Zyh6+",categoryAmount:"FinancialReport_categoryAmount__m5ehG",btnWrap:"FinancialReport_btnWrap__OIPL1",categoryBtn:"FinancialReport_categoryBtn__XaBGf",categoryBtnEnter:"FinancialReport_categoryBtnEnter__M4qmD FinancialReport_categoryBtn__XaBGf",categoryBtnEnterActive:"FinancialReport_categoryBtnEnterActive__WDMnd FinancialReport_categoryBtn__XaBGf",categoryBtnExit:"FinancialReport_categoryBtnExit__o+gLR FinancialReport_categoryBtn__XaBGf",categoryBtnExitActive:"FinancialReport_categoryBtnExitActive__EvdKd FinancialReport_categoryBtn__XaBGf",rectangle:"FinancialReport_rectangle__JYp6W",rectangleEnterActive:"FinancialReport_rectangleEnterActive__fi2Zw FinancialReport_rectangle__JYp6W",rectangleEnter:"FinancialReport_rectangleEnter__KlyH2 FinancialReport_rectangle__JYp6W",rectangleExitActive:"FinancialReport_rectangleExitActive__FIe2T FinancialReport_rectangle__JYp6W",rectangleExit:"FinancialReport_rectangleExit__vNR7R FinancialReport_rectangle__JYp6W",categoryIcon:"FinancialReport_categoryIcon__8KQ4X",category:"FinancialReport_category__j1-HW",reportNotify:"FinancialReport_reportNotify__F+PGp"};function E(e){var t=e.selectedCategory,a=e.setSelectedCategory,r=e.selectedOperation,o=e.setSelectedOperation,c=R.expenses,i=R.incomes,l=(0,p.useState)([]),s=(0,n.Z)(l,2),d=s[0],h=s[1],y=(0,g.v9)(m.LA),f=(0,g.v9)(m.Nl);function b(){o(r===c?i:c)}return(0,p.useEffect)((function(){if(Object.keys(y).length>0){var e,t,n=r===c?null===y||void 0===y||null===(e=y.expenses)||void 0===e?void 0:e.expensesData:null===y||void 0===y||null===(t=y.incomes)||void 0===t?void 0:t.incomesData,o=r===c?N:k;if(0===Object.entries(n).length)h(null),a(null);else{var i,l=Object.entries(n).map((function(e){var t=null===o||void 0===o?void 0:o.find((function(t){var a=t.backendName;return e[0]===a}));return{total:e[1].total,category:t.category,imgPath:t.imgPath,backendName:t.backendName}}));h(l),a(null===(i=l[0])||void 0===i?void 0:i.backendName)}}}),[c,r,y,a]),(0,u.jsxs)("section",{className:I.reportSection,children:[(0,u.jsxs)("div",{className:I.controls,children:[(0,u.jsx)("button",{type:"button",className:I.typeReportControlBtn,onClick:b,children:(0,u.jsx)("svg",{className:I.arrowIcon,children:(0,u.jsx)("use",{href:"".concat(F.Z,"#arrow-prev-icon")})})}),(0,u.jsx)("h2",{className:I.reportTypeTitle,children:r}),(0,u.jsx)("button",{type:"button",className:I.typeReportControlBtn,onClick:b,children:(0,u.jsx)("svg",{className:I.arrowIcon,children:(0,u.jsx)("use",{href:"".concat(F.Z,"#arrow-next-icon")})})})]}),(null===d||void 0===d?void 0:d.length)>0?(0,u.jsx)("ul",{className:I.categoryList,children:null===d||void 0===d?void 0:d.map((function(e,n){var r,o=e.total,c=e.imgPath,i=e.backendName,l=e.category;return(0,u.jsxs)("li",{className:I.categoryItem,children:[(0,u.jsx)("span",{className:I.categoryAmount,children:(0,_.Z)(o)}),(0,u.jsx)(j.Z,{classNames:(0,x.Z)({},I),children:(0,u.jsxs)("div",{className:I.btnWrap,children:[(0,u.jsx)("button",{type:"button",className:"".concat(i===t?I.categoryBtnEnterActive:I.categoryBtnExitActive),onClick:function(){a(i)},ariaLabel:"category ".concat(l," button"),children:(0,u.jsx)("svg",{className:I.categoryIcon,children:(0,u.jsx)("use",{href:"".concat(F.Z,"#").concat(c)})})}),(0,u.jsx)("div",{className:"".concat(i===t?I.rectangleEnterActive:I.rectangleExitActive)})]})}),(0,u.jsx)("p",{className:I.category,children:(r=l,r.includes(" ")?r.split(" ").map((function(e,t){return(0,u.jsx)("span",{children:e},t)})):r)})]},n)}))}):(0,u.jsxs)("p",{className:I.reportNotify,children:["Sorry, you don't have any ",r," for ",f," so I can't build your report..."]})]})}var P=a(2982),B=a(9683),w=a(145),Z=a(6546),C=a(1971),A="Chart_bar__9An4D",S="Chart_barMob__oYJzX",O=function(e,t){for(var a=[],n=0;n<t;n+=1)a.push(e);return a};Z.Z.register(w.Z);var M=function(e){var t=e.labels,a=e.data,n=e.maxData,r={labels:t,datasets:[{data:a,borderColor:"rgba(245, 246, 251, 1)",backgroundColor:["rgba(255, 117, 29, 1)","rgba(255, 218, 192, 1)","rgba(255, 218, 192, 1)"],borderRadius:"12",fill:!0,borderJoinStyle:"bevel",borderWidth:"1",showLine:!1,responsive:!0,barPercentage:.5,barThickness:38}]},o={labels:t,datasets:[{data:O(180,t.length),datalabels:{display:function(e){return a.find((function(t,a){return a===e.dataIndex}))>800},font:{size:"12"},color:"#52555f",labels:{title:{align:"top"}},anchor:"end",offset:5,barPercentage:.5,categoryPercentage:1,formatter:function(e,t){return t.chart.data.labels[t.dataIndex]}},barPercentage:1,barThickness:15,backgroundColor:["transparent"]},{data:a,datalabels:{layout:{padding:{top:0,right:100,bottom:100,left:8}},font:{size:"12"},color:"#52555f",labels:{title:{align:"top"}},anchor:"end",offset:5,barPercentage:.5,categoryPercentage:1,formatter:function(e){return"".concat((0,_.Z)(Math.floor(e)).split(".")[0]," \u0433\u0440\u043d")}},borderColor:"transparent",backgroundColor:["rgba(255, 117, 29, 1)","rgba(255, 218, 192, 1)","rgba(255, 218, 192, 1)"],borderRadius:"12",fill:!0,borderJoinStyle:"bevel",borderWidth:"none",showLine:!1,barPercentage:1,barThickness:15}]},c=(0,u.jsx)(B.$Q,{type:"bar",width:100,height:100,options:{layout:{padding:{left:30,right:30}},indexAxis:"y",plugins:{legend:{display:!1}},scales:{legend:{display:!1,position:"bottom"},x:{stacked:!0,offset:!0,grid:{offset:!0,lineWidth:0,borderColor:"transparent"},ticks:{display:!1}},y:{offset:!0,grid:{offset:!0,lineWidth:0,borderColor:"transparent"},stacked:!0,ticks:{display:!1}}}},data:o}),i=(0,u.jsx)(B.$Q,{type:"bar",width:100,height:100,options:{plugins:{legend:{display:!1},datalabels:{color:"#52555f",anchor:"end",offset:3,align:"end",formatter:function(e){return"".concat((0,_.Z)(Math.floor(e)).split(".")[0]," \u0433\u0440\u043d")}}},scales:{legend:{display:!1,position:"bottom"},y:{min:0,max:n,stacked:!0,ticks:{display:!1}},x:{min:0,max:n,grid:{lineWidth:0},stacked:!0}}},data:r});return(0,u.jsx)(C.Z,{queries:{small:"(max-width: 767px)",medium:"(min-width: 768px)"},children:function(e){return(0,u.jsxs)(p.Fragment,{children:[e.small&&(0,u.jsx)("div",{className:S,children:c}),e.medium&&(0,u.jsx)("div",{className:A,children:i})]})}})},T=a(8076),W=function(e){var t=e.categoryObject,a=Object.entries(t);a.shift();var n=a.sort(T.I),r=n.map((function(e){return e[0]})),o=n.map((function(e){return e[1]})),c=1.2*Math.max.apply(Math,(0,P.Z)(o));return(0,u.jsx)(u.Fragment,{children:0!==n.length?(0,u.jsx)(M,{data:o,labels:r,maxData:c}):null})};function L(){var e,t=R.expenses,a=(0,p.useState)(null),r=(0,n.Z)(a,2),o=r[0],c=r[1],i=(0,p.useState)(t),l=(0,n.Z)(i,2),s=l[0],d=l[1],_=(0,p.useState)({}),x=(0,n.Z)(_,2),j=x[0],N=x[1],k=(0,g.v9)(m.LA);return(0,p.useEffect)((function(){if(Object.keys(k).length>0){var e=k[s]["".concat(s,"Data")],t=Object.entries(e).find((function(e){return e[0]===o}));N(t?t[1]:{})}}),[k,o,s]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:b}),(0,u.jsx)("div",{className:v}),(0,u.jsx)("div",{className:y,children:(0,u.jsx)(h,{})}),(0,u.jsx)("div",{className:f,children:(0,u.jsx)(E,{selectedCategory:o,setSelectedCategory:c,selectedOperation:s,setSelectedOperation:d})}),!(null===(e=Object.keys(j))||void 0===e||!e.length)&&(0,u.jsx)("div",{className:f,children:(0,u.jsx)(W,{categoryObject:j})})]})}}}]);
//# sourceMappingURL=642.eda42494.chunk.js.map